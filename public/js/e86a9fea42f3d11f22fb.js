(self.webpackChunkBlynkWebDashboard=self.webpackChunkBlynkWebDashboard||[]).push([[290],{8098:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(12386),o=r(11187),a=r(67294),i=r(3727),l=r(9706),s=r(3136),c=r(1405),u=r(4890),f=r(5236),m=r(6600),p=r(5846),d=r(6793);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const w=(0,s.$j)((function(e){return{orgId:e.Organization.id,accountEmail:e.Account.email,accountName:e.Account.name||"",primaryColor:e.Theme.theme["--color-primary"]}}),(function(e){return{createTag:(0,u.DE)(c.GJ,e)}}))((function(e){var t=e.itemAssignedTags,r=e.userTags,s=e.itemId,c=e.searchForTags,u=e.assignTag,h=e.permissions3,v=e.createTag,E=e.orgId,O=e.accountEmail,w=e.accountName,S=e.primaryColor,_=(0,d.$)().t,j=g((0,a.useState)(t),2),N=j[0],k=j[1],C=(0,a.useRef)(),P=(0,m.e)({inputRef:C,searchForTags:c,max:5,appliedTags:N}),T=P.inputValue,I=P.inputValueHandler,A=P.showInput,R=P.isInputVisible,D=P.resetField,Z=P.dropdownVisibilityHandler,F=(0,l.pY)(h,l.Gl.ASSIGN_TAG),L=(0,a.useMemo)((function(){return null==r?void 0:r.filter((function(e){return!N.some((function(t){return t.id===e.id}))}))}),[r,N]),x=(0,a.useMemo)((function(){return Boolean(!(null!=L&&L.length)&&T)}),[L,T]),U=(0,a.useCallback)((function(e){var t=e.target.value;(null==t?void 0:t.length)<25&&p.eI.tag.test(t)&&I(t)}),[I,c]),z=(0,a.useCallback)((function(){D();var e=L[0];if(e&&!N.some((function(t){return t.id===e.id})))M(e,!1);else if(!e&&T.trim()){var t={name:T.trim(),color:S,owner:O};w&&(t.ownerName=w),v({orgId:E,tag:t}).then((function(e){return M(e.payload.data,!1)}))}})),M=function(e,t){D(),u({ids:[s],tagId:e.id,unassign:t}).then((function(){k((function(r){return t?null==r?void 0:r.filter((function(t){return t.id!==e.id})):[].concat(b(r),[y({},e)])}))})).catch((function(){o.default.error('"'.concat(e.name,'" tag is not ').concat(t?"un":"","applied"))}))};return a.createElement("div",{className:"search-item-info--tags"},a.createElement(f.PS,{tags:N,closable:F,onClose:function(e){return M(e,!0)}}),a.createElement(f.WO,{visible:R,onVisibleChange:Z,overlay:function(){return a.createElement("div",null,a.createElement(n.default,{className:"search-item-info--tags-menu"},null==L?void 0:L.map((function(e){return a.createElement(n.default.Item,{className:"search-item-info--tags-menu-item",key:e.id,onClick:function(){return M(e,!1)}},a.createElement("div",{style:{backgroundColor:e.color,border:"#ffffff"===e.color.toLowerCase()?"1px solid #a7a7a7":"none"},className:"search-item-info--tags-menu-item-status"}),e.name)})),x&&a.createElement(n.default.Item,{className:"search-item-info--menu-item",onClick:z},'Create New Tag: "',T,'"')),((null==L?void 0:L.length)||x)&&a.createElement("div",{className:"search-item-info--tags-divider"}),a.createElement(i.rU,{className:"search-item-info--tags-link",to:"/".concat(E,"/settings/tags")},_("manage_tags"),"..."))}},a.createElement(f.XB,{isInputVisible:R,label:null!=N&&N.length?"":_("add_tag"),inputValue:T,inputRef:C,onChange:U,onPressEnter:z,onClick:A,hasPermissions:F&&(null==N?void 0:N.length)<5,isEmpty:!(null==N||!N.length),icon:"tag"})))}))},1973:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(97538),o=r(4863),a=r(65400),i=r(67294),l=r(392),s=r(46564),c=r(50963),u=r(6793),f=r(8728),m=r(1326);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const h=function(e){var t=e.onCancel,r=e.isVisible,d=e.onSubmit,h=p((0,i.useState)(!1),2),y=h[0],v=h[1],b=p((0,c.useForm)(),1)[0],g=(0,u.$)().t,E=(0,i.useCallback)((function(){null==b||b.validateFields().then((function(e){v(!0),d(e.password).finally((function(){v(!1),O()}))}))}),[b,v,O,d]),O=(0,i.useCallback)((function(){null==b||b.resetFields(),t()}),[t,b]);return i.createElement(l.u_,{visible:r,closable:!1,onCancel:O,onSave:E,wrapClassName:"user-profile-modal delete-confirmation-modal",title:g("change_password"),footer:[i.createElement(a.default,{key:"cancel",onClick:O},g("Cancel")),i.createElement(a.default,{key:"save",type:"primary",disabled:y,loading:y,onClick:E},g("Save"))]},i.createElement(i.Fragment,null,i.createElement(n.Z.Item,{className:"medium-offset"},i.createElement(o.default,{icon:i.createElement(s.default,null),className:"ant-alert-with-description",showIcon:!0,message:(0,f.kk)(g("are_you_sure_want_to_change_the_user_password").toString()),type:"error"})),i.createElement(n.Z,{onSubmit:E,form:b},i.createElement(m.Z,{label:g("new_password"),errorMessage:g("Field is required")}))))}},3111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294),o=r(6793),a=function(e){var t=e.fillMode,r=e.status,a=(0,o.$)().t,i=(0,n.useMemo)((function(){var e="user__status-".concat("Active"===r?"active":"pending");return t&&(e+="-filled"),e}),[t,r]);return n.createElement("div",{className:"user__status",style:{paddingLeft:t?0:14}},n.createElement("div",{className:i},a(r)))};a.defaultProps={fillMode:!1};const i=a},8915:(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});var n=r(40987),o=r(89552),a=r(64749),i=r(51024),l=r(65400),s=r(97538),c=r(11187),u=r(67294),f=r(392),m=r(2454),p=r(46403),d=r(94119),h=r(3136),y=r(4890),v=r(1405),b=r(4851),g=r(6879),E=r(5846);const O=function(e){var t,r=e.fields;return null===(t=Object.keys(r))||void 0===t?void 0:t.map((function(e){return u.createElement(u.Fragment,{key:e},u.createElement(g.x,{label:e,name:"customFields.".concat(e),type:"text"}))}))};var w=r(82891),S=r(12386),_=r(94055),j=r(59361),N=r(1943);function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const P=function(e){var t=e.onChange,r=e.locations,n=e.values,o=(0,u.useCallback)((function(e){var r=null==n?void 0:n.filter((function(t){return t!==e}));t(r)}),[n,t]),a=(0,u.useCallback)((function(e){t([].concat(k(n||[]),[e]))}),[n,t]),i=(0,u.useMemo)((function(){return null==r?void 0:r.filter((function(e){return-1===(null==n?void 0:n.indexOf(e.id))}))}),[r,n]);return u.createElement("div",{className:"user__assign-locations"},null==n?void 0:n.map((function(e){var t,n=null==r?void 0:r.find((function(t){return t.id===e})),a=(null==n||null===(t=n.name)||void 0===t?void 0:t.length)>40,i=u.createElement(j.default,{key:e,closable:!0,onClose:function(){return o(e)}},a?"".concat(null==n?void 0:n.name.slice(0,40),"..."):null==n?void 0:n.name);return n?a?u.createElement(_.default,{title:n.name,key:e},i):i:null})),Boolean(null==i?void 0:i.length)&&u.createElement(w.default,{overlayClassName:"user__assign-locations__dropdown dropdown--override-static",getPopupContainer:function(e){return e.parentNode},overlay:function(){return u.createElement(S.default,null,null==i?void 0:i.map((function(e){return u.createElement(S.default.Item,{key:e.id,onClick:function(){return a(e.id)}},e.name)})))}},u.createElement(j.default,{className:"user__assign-locations__plus"},u.createElement(N.Z,null))))};var T,I=r(9189),A=r(1768),R=r(9706);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$(e);if(t){var o=$(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return z(this,r)}}function z(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=(0,h.$j)((function(e){return{locations:e.OrganizationSettings.locations,accountId:e.Account.id,isSuperAdmin:e.Account.roleId===R.ze}}),(function(e){return{getOrgLocations:(0,y.DE)(v.m9,e)}}))(T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(v,e);var t,r,h,y=U(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),H(M(t=y.call(this,e)),"handleLocationsChange",(function(e){t.setState((function(t){return{user:F(F({},t.user),{},{locationIds:e})}}))})),H(M(t),"getValuesToSubmit",(function(e){var r={isDev:t.state.user.isDev},n={};for(var o in e)o.startsWith("customFields.")?n[o.replace("customFields.","")]=e[o]:r[o]=e[o];return r.name=e.name?String(e.name).trim():"",Object.keys(n).length&&(r.customFields=n),r})),H(M(t),"handleUserSave",(function(){var e;null===(e=t.formRef.current)||void 0===e||e.validateFields().then((function(e){t.setState({loading:!0}),t.props.onSubmit(F(F({},t.getValuesToSubmit(e)),{},{locations:t.state.user.locationIds})).then((function(){t.setState({loading:!1}),t.handleCancel()})).catch((function(e){c.default.error(e.error.response.data.error.message),t.setState({loading:!1}),t.handleCancel()}))})).catch((function(){}))})),H(M(t),"handleCancel",(function(){t.props.onCancel(),setTimeout((function(){var e;return null===(e=t.formRef.current)||void 0===e?void 0:e.resetFields()}),150)})),H(M(t),"emailPattern",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),H(M(t),"validateEmail",(function(e,r,n){r?r.match(t.emailPattern)?n():n(t.props.t("incorrect_email_address")):n()})),H(M(t),"handleChangeDevMode",(function(e){t.setState((function(t){return{user:F(F({},t.user),{},{isDev:e})}}))})),t.formRef=u.createRef(),t.state={user:{},locationsLoading:!0},t}return t=v,(r=[{key:"componentWillReceiveProps",value:function(e){var t,r=this;this.setState({user:e.user||{}},(function(){var e;null===(e=r.formRef.current)||void 0===e||e.resetFields()})),!this.props.visible&&e.visible&&(this.setState({locationsLoading:!0}),null!==(t=e.user)&&void 0!==t&&t.orgId?this.props.getOrgLocations({orgId:e.user.orgId}).finally((function(){r.setState({locationsLoading:!1})})):this.props.getOrgLocations().finally((function(){r.setState({locationsLoading:!1})})))}},{key:"renderTitle",value:function(){return this.props.user?this.props.t("user_profile"):this.props.t("invite_new_user")}},{key:"renderSubTitle",value:function(){return this.props.user?"Edit user profile, role, and assign ".concat((0,m.qi)(this.props.locationTerm,!0).toLowerCase()):"Invite new user, assign roles and ".concat((0,m.qi)(this.props.locationTerm,!0).toLowerCase())}},{key:"renderLocations",value:function(){var e,t=this;if(this.props.canSeeLocations&&null!==(e=this.props.locations)&&void 0!==e&&e.length){var r,n=this.state.user.locationIds||(null===(r=this.state.user.locationNames)||void 0===r?void 0:r.map((function(e){var r;return null===(r=t.props.locations.find((function(t){return t.name===e})))||void 0===r?void 0:r.id})));return u.createElement(s.Z.Item,{className:"organization-settings-users-form-assign user-form-bottom-form-item medium-offset",label:u.createElement(I.c,{i18nKey:"assignToLocation"},"Assign to ",{location:this.props.t((0,m.qi)(this.props.locationTerm,!0))})},u.createElement(P,{locations:this.props.locations,values:n||[],onChange:this.handleLocationsChange}))}return null}},{key:"getAssignedLocations",value:function(){var e,t=this;return this.state.user&&this.state.user.locationNames?null===(e=this.state.user.locationNames)||void 0===e?void 0:e.map((function(e){var r;return null===(r=t.props.locations.find((function(t){return e===t.name})))||void 0===r?void 0:r.id})):[]}},{key:"render",value:function(){var e,t,r,c,m,h,y,v=this,w=u.createElement(b.default,{style:{fontSize:24,color:"black"},spin:!0}),S=F(F({},this.state.user||{}),{},{locations:this.getAssignedLocations()});if((this.state.user.roleId||this.props.roles)&&(this.state.user.roleId?S.roleId=String(this.state.user.roleId):S.roleId=String((null===(y=this.props.roles.find((function(e){return e.id===R.OP})))||void 0===y?void 0:y.id)||this.props.roles[0].id)),null!==(e=this.state.user)&&void 0!==e&&e.customFields)for(var _ in this.state.user.customFields)S["customFields.".concat(_)]=this.state.user.customFields[_];return u.createElement(f.u_,{wrapClassName:"organization-settings-users-edit-modal",title:this.renderTitle(),visible:this.props.visible,size:"small",onCancel:this.handleCancel,onSave:this.handleUserSave,footer:[u.createElement(l.default,{key:"cancel",type:"secondary",size:"default",onClick:this.handleCancel},this.props.t("Cancel")),u.createElement(l.default,{key:"save",className:"locations--btn-primary",size:"default",type:"primary",disabled:this.state.loading,loading:this.state.loading,onClick:this.handleUserSave},null!==(t=this.state.user)&&void 0!==t&&t.email?this.props.t("Save"):this.props.t("Invite"))]},u.createElement(s.Z,{ref:this.formRef,className:"organization-settings-users-form",onSubmit:this.onSubmit,initialValues:S},u.createElement(g.x,{className:"normal-offset",label:this.props.t("Name"),hint:this.props.t("use_letters_hyphens_dots_spaces"),name:"name",allowClear:!0,placeholder:this.props.t("enter_name"),type:"text",maxLength:60,required:!(null===(r=this.state.user)||void 0===r||!r.id),form:this.formRef.current,inputProps:{prefix:u.createElement(p.Z,{className:"form--field-icon"})},requiredMessage:this.props.t("name_is_required"),pattern:E.iT.username,patternErrorMessage:this.props.t("use_letters_hyphens_dots_spaces")}),void 0!==(null===(c=this.props.user)||void 0===c?void 0:c.nickname)&&u.createElement(s.Z.Item,{label:this.props.t("Nickname"),name:"nickname",className:"medium-offset",validateTrigger:"onBlur"},u.createElement(i.default,{maxLength:200,type:"text",placeholder:this.props.t("enter_nickname")})),u.createElement(s.Z.Item,{name:"email",label:this.props.t("Email"),className:"medium-offset",validateTrigger:"onBlur",rules:[{type:"email",message:this.props.t("invalid_email_address")},{required:!0,message:this.props.t("email_is_required")}]},u.createElement(i.default,{maxLength:200,title:this.props.t("Email"),type:"text",name:"email",disabled:!!this.props.user,prefix:u.createElement(d.Z,{className:"form--field-icon"}),placeholder:this.props.t("enter_email")})),this.props.roles&&u.createElement(s.Z.Item,{name:"roleId",label:this.props.t("Role"),className:"medium-offset",validateTrigger:"onBlur",rules:[{required:!0,message:this.props.t("role_is_required")}]},u.createElement(a.default,{title:this.props.t("Role"),name:"roleName",disabled:this.props.accountId===(null===(m=this.props.user)||void 0===m?void 0:m.id)},null===(h=this.props.roles)||void 0===h?void 0:h.map((function(e){return u.createElement(a.default.Option,{key:e.id,value:"".concat(e.id)},v.props.t(e.name))})))),u.createElement(g.x,{className:"medium-offset",label:this.props.t("phone_number"),name:"phoneNumber",maxLength:200,type:"phone",form:this.formRef.current,placeholder:"+1(222)333-44-55"}),this.props.canChangeUsersPassword&&u.createElement(s.Z.Item,{name:"password",label:this.props.t("Password"),className:"medium-offset",validateTrigger:"onBlur"},u.createElement(i.default,{maxLength:200,type:"password",name:"password",placeholder:this.props.t("new_password")})),S.customFields&&u.createElement(O,{fields:S.customFields}),this.props.canSeeLocations&&this.state.locationsLoading?u.createElement(o.default,{indicator:w}):this.renderLocations(),this.props.isSuperAdmin&&this.state.user.hasOwnProperty("isDev")&&u.createElement("div",{className:"user-form-bottom-form-item"},u.createElement(n.Z,{size:"small",checked:this.state.user.isDev,onChange:this.handleChangeDevMode}),u.createElement("span",{className:"switch-label"},this.props.t("is_developer")))))}}])&&L(t.prototype,r),h&&L(t,h),v}(u.Component))||T;const q=(0,A.Z)()(V)},4290:(e,t,r)=>{"use strict";r.d(t,{yQ:()=>le.Z,pf:()=>ue,h4:()=>Ee,kI:()=>Me,FE:()=>Ze,uU:()=>y,Pg:()=>Le,qb:()=>o.Z,Zd:()=>it,c6:()=>dt,H4:()=>ht.Z,TG:()=>ie});var n,o=r(3111),a=r(64749),i=r(67294),l=r(9706),s=r(3136),c=r(1768);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=(0,c.Z)()(n=(0,s.$j)((function(e){return{roles:e.Organization.roles}}))(n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,r,n,o=p(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,e)}return t=s,(r=[{key:"getRolesList",value:function(){var e,t=this,r=[];return null===(e=this.props.roles)||void 0===e||e.filter((function(e){return e&&e.id&&e.id!==l.ze})).forEach((function(e){var n="".concat(e.id);r.push(i.createElement(a.default.Option,{key:n,value:n},t.props.t(e.name)))})),r}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.getRolesList(),t=this.props&&this.props.role,r=this.props.disabled;return t===l.ze&&i.createElement("div",null,l.rl)||i.createElement(a.default,{className:"user--role-select",value:"".concat(t),onChange:this.onChange.bind(this),disabled:r||t===l.ze||!(0,l.pY)(this.props.permissions,l.CU.ROLE_EDIT)},e)}}])&&f(t.prototype,r),n&&f(t,n),s}(i.Component))||n)||n,v=r(23279),b=r.n(v),g=r(4890),E=r(11187),O=r(65400),w=r(51024),S=r(64640),_=r(2892),j=r(2333),N=r(392),k=r(7737);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return D(this,r)}}function D(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,S.Z)(),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,r,n,o=R(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),L(Z(t=o.call(this,e)),"onInputChange",(function(e,r){t.setState(L({},r+"Search",e.target.value))})),L(Z(t),"onSearch",(function(){var e,r,n=t.state,o=n.actionNameSearch,a=n.actionCodeSearch,i=new RegExp(o,"gi"),l=new RegExp(a,"gi");t.setState({filterDropdownVisible:!1,filtered:!(!o&&!a),data:null===(e=t.props.data)||void 0===e||null===(r=e.map((function(e){var t=e.actionName.match(i),r=String(e.actionCode).match(l);return t&&r?T({},e):null})))||void 0===r?void 0:r.filter((function(e){return!!e}))})})),L(Z(t),"getColumnSearchProps",(function(e){return{filterDropdown:i.createElement("div",{className:"custom-filter-dropdown ant-table-filter-dropdown"},i.createElement(w.default,{maxLength:200,ref:function(e){return t.searchInput=e},placeholder:t.props.t("Search"),value:t.state[e+"Search"],onChange:function(r){return t.onInputChange(r,e)},onPressEnter:function(){return t.onSearch(e)}}),i.createElement("div",{className:"ant-table-filter-dropdown-btns"},i.createElement(O.default,{onClick:function(){return t.handleReset(e)},className:"ant-table-filter-dropdown-link clear"},t.props.t("Reset")),i.createElement(O.default,{type:"primary",onClick:function(){return t.onSearch(e)},className:"ant-table-filter-dropdown-link confirm"},t.props.t("OK")))),filterDropdownVisible:t.state[e+"FilterDropdownVisible"],onFilterDropdownVisibleChange:function(r){t.setState(L({},e+"FilterDropdownVisible",r),(function(){var e;return null===(e=t.searchInput)||void 0===e?void 0:e.focus()}))},filterIcon:i.createElement("div",{style:{display:"inline"}},i.createElement(k.Z,{className:t.state[e+"Search"]?"ant-table-filter-selected":""}))}})),L(Z(t),"handleSearch",(function(e,r,n){r(),t.setState(L({},n+"Search",e[0]))})),L(Z(t),"handleReset",(function(e){t.setState(L({},e+"Search",""),(function(){t.onSearch()}))})),L(Z(t),"handleCopyEmail",(function(e,r){return r?E.default.success(t.props.t("email_copied_to_clipboard")):E.default.error(t.props.t("unable_to_copy"))})),t.state={actionCodeSearch:"",actionNameSearch:"",data:[]},t}return t=a,(r=[{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data||[]})}},{key:"getClientTypeFilters",value:function(){var e=[];for(var t in _.J$)if(_.J$.hasOwnProperty(t)){var r=_.J$[t];e.push({text:r,value:t})}return e}},{key:"render",value:function(){var e,t=[{title:this.props.t("Time"),ellipsis:!0,dataIndex:"ts",showSorterTooltip:!1,sorter:function(e,t){return x(e.ts,t.ts)},render:function(e){return(0,j.N)(e,!0)},width:200},{title:this.props.t("organization_name"),width:150,ellipsis:!0,dataIndex:"orgName",showSorterTooltip:!1,sorter:function(e,t){return x(e.orgName,t.orgName)}},{title:this.props.t("Client"),width:120,ellipsis:!0,showSorterTooltip:!1,dataIndex:"clientType",render:function(e){return e[0]?"".concat(e[0].toUpperCase()).concat(e.slice(1)):e},filters:this.getClientTypeFilters(),onFilter:function(e,t){return 0===String(t.clientType).toLocaleLowerCase().indexOf(String(e).toLocaleLowerCase())},sorter:function(e,t){return x(e.clientType,t.clientType)}},T({title:this.props.t("action_name"),width:200,ellipsis:!0,dataIndex:"actionName",showSorterTooltip:!1,sorter:function(e,t){return x(e.actionName,t.actionName)}},this.getColumnSearchProps("actionName")),T({title:this.props.t("action_code"),width:160,ellipsis:!0,dataIndex:"actionCode",showSorterTooltip:!1,sorter:function(e,t){return x(e.actionCode,t.actionCode)}},this.getColumnSearchProps("actionCode"))];return i.createElement("div",{className:"devices--device-actions-log-table"},i.createElement(N.iA,{id:"user-action-log-table",tableLayout:"fixed",columns:t,dataSource:this.state.data,loading:null===(e=this.props)||void 0===e?void 0:e.loading,scroll:{y:this.props.height},rowKey:function(e){var t=e.ts,r=e.actionCode;return"".concat(t,"_").concat(r)}}))}}])&&I(t.prototype,r),n&&I(t,n),a}(i.Component);L(U,"defaultProps",{height:"65vh"});const z=(0,c.Z)()(U);var M=r(4447),$=r(6793);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G=function(e){var t=e.onTimeFilterChange,r=e.timeFilter,n=(0,$.$)().t,o=[{key:_.E1.ONE_HOUR.key,value:_.E1.ONE_HOUR.value},{key:_.E1.SIX_HOURS.key,value:_.E1.SIX_HOURS.value},{key:_.E1.DAY.key,value:_.E1.DAY.value},{key:_.E1.WEEK.key,value:_.E1.WEEK.value},{key:_.E1.MONTH.key,value:_.E1.MONTH.value},{key:_.E1.THREE_MONTHS.key,value:_.E1.THREE_MONTHS.value},{key:_.E1.CUSTOM.key,value:_.E1.CUSTOM.value,isCustomTime:!0}].map((function(e){return V(V({},e),{},{value:n(e.value)})}));return i.createElement(N.CD,{initialValues:r,onChange:t,options:o})};var W,Y=r(7255),B=r(9587);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return re(this,r)}}function re(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?ne(e):t}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ie=(0,s.$j)((function(e){var t,r,n,o,a,i,s;return{data:(null===(t=e.Search)||void 0===t||null===(r=t.userActionsLog)||void 0===r?void 0:r.values)||[],loading:null===(n=e.Search)||void 0===n||null===(o=n.userActionsLog)||void 0===o?void 0:o.loading,planType:(null===(a=e.Organization.plan)||void 0===a?void 0:a.type)||"FREE",isGeoCloud:null===(i=e.OrganizationSettings)||void 0===i||null===(s=i.appProperties)||void 0===s?void 0:s.isGeoCloud,isSuperAdmin:e.Account.roleId===l.ze}}),(function(e){return{getActionLog:(0,g.DE)(M.tA,e)}}))(W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(a,e);var t,r,n,o=te(a);function a(){var e;X(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ae(ne(e=o.call.apply(o,[this].concat(r))),"state",{timeFilter:e.props.timeFilter||Y.WC,offset:0}),ae(ne(e),"limit",20),ae(ne(e),"handleTimeFilterChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y.WC;e.setState({timeFilter:t}),e.props.onChangeTimeFilter&&e.props.onChangeTimeFilter(t)})),e}return t=a,(r=[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){e.userId!==this.props.userId?this.fetchData():t.timeFilter&&this.state.timeFilter&&(t.timeFilter.time!==this.state.timeFilter.time?this.fetchData():t.timeFilter.customTime[0]===this.state.timeFilter.customTime[0]&&t.timeFilter.customTime[1]===this.state.timeFilter.customTime[1]||this.fetchData()),this.props.match.params.itemTab!==e.match.params.itemTab&&"action-log"===this.props.match.params.itemTab&&this.fetchData()}},{key:"canSeeActionsLog",get:function(){return this.props.isSuperAdmin||!this.props.isGeoCloud||this.props.planType.startsWith("PRO")}},{key:"initLayzyLoading",value:function(){var e=this,t=document.querySelector(".devices--device-actions-log .ant-table-body");t&&(t.onscroll=b()((function(){var r;t.scrollTop+t.clientHeight+100>t.scrollHeight&&(null===(r=e.props.data)||void 0===r?void 0:r.length)===e.state.offset+e.limit&&e.setState({offset:e.state.offset+e.limit},(function(){var t=e.getTimeFilerRange();e.props.getActionLog({offset:e.state.offset,limit:e.limit,userId:e.props.userId,period:t.time,from:t.customTime[0],to:t.customTime[1]})}))}),200))}},{key:"getTimeFilerRange",value:function(){return this.state.timeFilter?{time:this.state.timeFilter.time,customTime:this.state.timeFilter.customTime}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Y.WC)}},{key:"fetchData",value:function(){var e=this;this.setState({offset:0,loading:!0},(function(){var t=e.getTimeFilerRange();e.props.getActionLog({offset:e.state.offset,limit:e.limit,userId:e.props.userId,period:t.time,from:t.customTime[0],to:t.customTime[1]}).then((function(){e.initLayzyLoading()}))}))}},{key:"render",value:function(){var e;return this.canSeeActionsLog?i.createElement("div",{className:"devices--device-actions-log"},i.createElement(G,{timeFilter:this.state.timeFilter,onTimeFilterChange:this.handleTimeFilterChange}),i.createElement(z,{height:this.props.height,data:this.props.data,loading:(null===(e=this.props)||void 0===e?void 0:e.loading)&&!this.state.offset})):i.createElement(B.Z,null)}}])&&Q(t.prototype,r),n&&Q(t,n),a}(i.Component))||W;var le=r(1973),se=r(9189),ce=r(8728);const ue=function(e){var t=(0,$.$)().t,r=i.createElement("div",null,i.createElement(se.c,{i18nKey:"deleteUserDescription",parent:"p"},"This is a critical action that will lead to the permanent deletion of user ",i.createElement("b",null,{userName:e.userName})," and all of his/her data."),i.createElement("div",null,(0,ce.kk)(t("this_cannot_be_undone")),"."));return i.createElement(N.pf,{visible:e.visible,fullTitle:"".concat(t("delete_user"),"?"),handleSubmit:e.handleSubmit,onCancel:e.onCancel,submitting:e.submitting,fullDescription:r})};var fe=r(35297),me=r(82891),pe=r(12386),de=r(8098),he=r(46564);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ee=function(e){var t=e.user,r=e.permissions,n=e.permissions2,o=e.isCurrentActiveUser,a=e.menuComponent,s=e.handleMenuClick,c=e.applyTag,u=e.handleOrganizationClick,f=e.appliedTags,m=e.userAvailableTags,p=e.searchForTags,d=e.permissions3;if(!t)return null;var h=(0,$.$)().t,y=(0,i.useCallback)((function(e){s&&s(e)}),[s]),v=(0,i.useCallback)((function(e){var r=ye(e,7),n=r[0],o=r[1],a=r[2],l=r[3],s=r[4],c=r[5],u=r[6],f=[];if(a&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,type:"edit"})},i.createElement("span",null,i.createElement(N.cI,{type:"keyboard",className:"organization-settings--locations-table-icon"})," ",h("Edit")))),"Pending"!==t.status&&n&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,type:"changePass"})},i.createElement("span",null,i.createElement(N.cI,{type:"lock",className:"organization-settings--locations-table-icon"}),h("change_password")))),"Pending"===t.status&&o&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,type:"resendInvite"})},i.createElement("span",null,i.createElement(N.cI,{type:"refresh",className:"organization-settings--locations-table-icon"})," ",h("resend_invite")))),l&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({email:t.email,id:t.id,type:"sendDeviceLog"})},i.createElement("span",null,i.createElement(N.cI,{type:"file",className:"organization-settings--locations-table-icon"})," ",h("send_device_log")))),u){var m="Suspended"===t.status;f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,type:"suspend"})},i.createElement("span",null,i.createElement(N.cI,{type:m?"undo2":"prohibited",className:"organization-settings--locations-table-icon"}),h(m?"restore_user":"suspend_user"))))}return c&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,type:"transfer"})},i.createElement("span",null,i.createElement(N.cI,{type:"switch",className:"organization-settings--locations-table-icon"})," ",h("transfer_user")))),s&&f.push(i.createElement(pe.default.Item,{key:JSON.stringify({user:t,name:t.name,email:t.email,type:"deleteUser"})},i.createElement("span",{className:"dropdown--action-critical"},i.createElement(N.cI,{type:"trash",className:"organization-settings--locations-table-icon"}),"Â ",h("delete_account")))),f.length?i.createElement(me.default,{overlay:i.createElement(pe.default,{onClick:y,className:"dropdown--override global-search-user-header__menu"},f)},i.createElement(N.ZP,{className:"global-search-user-header__menu-trigger"})):null}),[y,t]),b=(0,l.pY)(n,l.Vg.CHANGE_USER_PASSWORD),g=(0,l.pY)(r,l.CU.ORG_INVITE_USERS),E=(0,l.pY)(r,l.CU.ORG_EDIT_USERS),w=(0,l.pY)(n,l.Vg.ALLOW_FORCE_USER_LOGOUT),S=[b,g,E,(0,l.pY)(n,l.Vg.SEND_USER_ACTION_LOG),(0,l.pY)(r,l.CU.ORG_DELETE_USERS)&&0!==t.roleId&&!o,(0,l.pY)(n,l.Vg.TRANSFER_USER),(0,l.pY)(d,l.Gl.SUSPEND_USER)],_=S.includes(!0);return i.createElement("div",{className:"search--device-info global-search-user-header"},i.createElement("div",{className:"global-search-user-header__image"},i.createElement(N.NZ,{value:t.name||t.email})),i.createElement("div",{className:"search--device-info--info"},i.createElement("div",{className:"search--device-info--name"},i.createElement("div",{className:"global-search-user-header-name"},t.name||t.email),void 0!==a?i.createElement(i.Fragment,null,a()):_&&v(S)),i.createElement("div",{className:"search--device-info--credentials"},i.createElement("div",{onClick:u},i.createElement(N.cI,{type:"building8"}),t.orgName||h("Organization")," "),t.country&&i.createElement("div",{className:"search--device-info--credentials-country"},i.createElement(N.cI,{type:"globe"})," ",t.country)),i.createElement(de.Z,{itemId:t.id,itemAssignedTags:f,userTags:m,searchForTags:p,assignTag:function(e){return c(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"USER"},e))},permissions3:d}),w&&i.createElement(fe.Z,{placement:"top",icon:i.createElement(he.default,{sty:!0}),title:i.createElement(se.c,{i18nKey:"forceUserLogoutMessage"},i.createElement("div",null,"Are you sure you want the user ",i.createElement("b",null,{userName:t.name})," to log out")),onConfirm:function(){return s({key:JSON.stringify({user:t,type:"forceLogout"})})},okText:h("Yes"),cancelText:h("No")},i.createElement(O.default,{className:"global-search-user-header__logout-button"},i.createElement(N.cI,{type:"exit"})," ",h("force_log_out")))))};var Oe=r(55673),we=r(5789),Se=r(156),_e=r(2454),je=r(5096),Ne=r(1825);function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||Ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Ae(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function Ae(e,t){if(e){if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var De=function(e){var t=e.role,r=e.visible,n=e.onClose,o=t||{},a=o.permissionGroup1,s=o.permissionGroup2,c=o.permissionGroup3,u=o.name,f=(0,$.$)().t,m=(0,i.useCallback)((function(e){var t,r=[],n=Ie(e);try{for(n.s();!(t=n.n()).done;){var o=Te(t.value,4),i=o[0],u=o[1],f=o[2],m=o[3];if(m){var p=void 0,d=void 0;switch(m){case 1:p=a,d=l.Mo;break;case 2:p=s,d=l.yC;break;case 3:p=c,d=l.fV}if(f){var h,y=Ie(f);try{for(y.s();!(h=y.n()).done;){var v=h.value;(0,l.pY)(p,v)&&r.push(Ce({},d[v]))}}catch(e){y.e(e)}finally{y.f()}}else for(var b=i;b<i+u;b++)(0,l.pY)(p,b)&&r.push(Ce({},d[b]))}}}catch(e){n.e(e)}finally{n.f()}return r}),[a,s,c]),p=(0,i.useMemo)((function(){return i.createElement("div",null,Object.entries(l.jW).map((function(e){var t=Te(e,2),r=t[0],n=t[1],o=n.label,a=n.values,l=n.subData,s=[];if(null!=a&&a.length){var c=m(a);null!=c&&c.length&&s.push({label:"",list:c})}if(null!=l&&l.length){var u,p=Ie(l);try{for(p.s();!(u=p.n()).done;){var d=u.value,h=m(d.values);h.length&&s.push({label:d.label,list:h})}}catch(e){p.e(e)}finally{p.f()}}return null!=s&&s.length?i.createElement("div",{key:r},i.createElement("div",{className:"user-permissions-label"},f(o)),s.map((function(e){return i.createElement("div",{key:e.label,className:"user-permissions-section"},i.createElement("div",{className:"user-permissions-section-sub-label"},f(e.label)),i.createElement("div",{className:"user-permissions-section-list"},e.list.map((function(e){return i.createElement("div",{key:e.key,className:"user-permissions-section-item"},f(e.value))}))))}))):null})))}),[m,f]);return i.createElement(Ne.Z,{visible:r,onClose:n,width:600,title:i.createElement(se.c,{i18nKey:"role_permissions_title"},{role:f(u)}," Role Permissions"),className:"user-permissions",closable:!1},p)};const Ze=(0,i.memo)(De);var Fe=r(94055);const Le=function(e){var t=e.onClick,r=e.children,n=(0,$.$)().t;return i.createElement(Fe.default,{title:n("view_user_permissions")},i.createElement("a",{className:"user-role-button",onClick:t},r))};function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ze=function(e){var t,r,n,a=e.user,l=e.roles,s=e.showStatusField,c=e.height,u=e.locationTerm,f=e.developerMode,m=xe((0,i.useState)(!1),2),p=m[0],d=m[1],h=(0,$.$)().t;if(!a)return null;var y=(0,i.useMemo)((function(){return Object.values(a.customFields||{})}),[a.customFields]),v=(0,i.useMemo)((function(){return a.role||l.find((function(e){return Number(a.roleId)===Number(e.id)}))}),[l,a.roleId]);return i.createElement(i.Fragment,null,v&&i.createElement(Ze,{role:v,visible:p,onClose:function(){return d(!1)}}),i.createElement(Oe.Z,{style:{overflow:"auto",height:c,margin:0},wrap:!1},i.createElement(we.Z,null,s&&i.createElement("div",{className:"user-details-row",style:{marginTop:0}},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("Status")),i.createElement(Se.Z.Content,null,i.createElement(o.Z,{status:a.status,fillMode:!0})))),i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("Email")),i.createElement(Se.Z.Content,null,i.createElement(N.ax,{text:a.email},a.email)))),!!a.nickname&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("Nickname")),i.createElement(Se.Z.Content,null,a.nickname))),!!a.phoneNumber&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("phone_number")),i.createElement(Se.Z.Content,null,i.createElement(je.Z,{value:a.phoneNumber})))),i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("Role")),i.createElement(Se.Z.Content,null,i.createElement(Le,{onClick:function(){return d(!0)}},h(a.roleName||(null==v?void 0:v.name)))))),0!==a.lastLoggedAt&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("last_login")),i.createElement(Se.Z.Content,null,(0,j.N)(a.lastLoggedAt)))),!(null==a||null===(t=a.locationNames)||void 0===t||!t.length)&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("assigned_to")," ",h((0,_e.qi)(u,!0))),i.createElement(Se.Z.Content,null,a.locationNames&&(null===(r=a.locationNames)||void 0===r?void 0:r.map((function(e){return i.createElement("div",{key:e},e)})))))),!!a.title&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("Title")),i.createElement(Se.Z.Content,null,a.title))),!(null==y||!y.length)&&(null==y?void 0:y.map((function(e,t){return i.createElement("div",{className:"user-details-row",key:e},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,Object.keys(a.customFields)[t]),i.createElement(Se.Z.Content,null,e)))}))),(null===(n=a.ipInfo)||void 0===n?void 0:n.tz)&&i.createElement("div",{className:"user-details-row"},i.createElement(Se.Z,null,i.createElement(Se.Z.Title,null,h("TimeZone")),i.createElement(Se.Z.Content,null,a.ipInfo.tz))),void 0!==f&&f)))};ze.defaultProps={height:"calc(100vh - 300px)",showStatusField:!0};const Me=ze;var $e=r(31059),He=r(97538),Ve=r(4863),qe=r(16318),Ge=r(8104);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Be(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ye(a,n,o,i,l,"next",e)}function l(e){Ye(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nt(e);if(t){var o=nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tt(this,r)}}function tt(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(l,e);var t,r,n,o=et(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),ot(rt(t=o.call(this,e)),"emaiPattern",/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),ot(rt(t),"resetState",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.setState(Je({valid:!1,showHelp:!1,userId:null,userName:null,orgName:null,roles:[]},e))})),ot(rt(t),"validateEmail",function(){var e=Be(regeneratorRuntime.mark((function e(r,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?n.match(t.emaiPattern)?t.props.getUserForTransfer(n).then((function(e){t.setState({valid:!0,showHelp:!1,userId:e.payload.data.userId,userName:e.payload.data.userName,orgName:e.payload.data.orgName,roles:e.payload.data.roles}),o()})).catch((function(e){e&&e.error?(E.default.destroy(),t.resetState({showHelp:!0}),o(e.error.response.data.error.message)):o()})):(t.resetState(),o(t.props.t("incorrect_email_address"))):(t.resetState(),o(t.props.t("Field is required")));case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),ot(rt(t),"handleTransfer",Be(regeneratorRuntime.mark((function e(){var r,n,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(r=t.formRef.current)||void 0===r?void 0:r.validateFields();case 3:return n=e.sent,e.next=6,t.props.userTransfer(Je(Je({},n),{},{transferredUserId:t.props.user.id}));case 6:o=e.sent,a=o.payload,t.showFinalNotification(a.data.message),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})))),ot(rt(t),"handleCancel",(function(){t.props.onCancel(),setTimeout((function(){var e;null===(e=t.formRef.current)||void 0===e||e.resetFields(),t.setState({valid:!1,showHelp:!1,userId:null})}),1e3)})),t.formRef=i.createRef(),t.state={valid:!1,showHelp:!1,userId:null,userName:null,orgName:null,roles:[]},t}return t=l,(r=[{key:"getNotificationDescription",value:function(e,t,r){return t?i.createElement(se.c,{i18nKey:"userTransferModalNotification",parent:"div",className:"user-transfer-final-notfication-description"},i.createElement("b",null,{userName:e})," was successfully transferred to ",{orgName:r},"."):i.createElement(se.c,{i18nKey:"userTransferModalNotification",count:10,parent:"div",className:"user-transfer-final-notfication-description"},i.createElement("b",null,{userName:e})," and devices were successfully transferred to ",{orgName:r},".")}},{key:"showFinalNotification",value:function(e){var t="user-transfer-final-notfication",r=i.createElement("div",{className:"user-transfer--final-buttons"},i.createElement(O.default,{key:"save",type:"primary",size:"default",onClick:function(){return qe.default.close(t)}},this.props.t("got_it"))),n=i.createElement("div",{className:"user-transfer--check"},i.createElement(N.cI,{type:"check"})),o=i.createElement("div",{className:"user-transfer-final-notfication-description"},e);qe.default.open({message:i.createElement("div",{className:"user-transfer-final-notfication-title"},this.props.t("transfer_complete")),description:o,icon:n,key:t,duration:null,btn:r}),this.handleCancel()}},{key:"getButtons",value:function(){return[i.createElement(O.default,{key:"cancel",type:"default",size:"default",onClick:this.handleCancel},this.props.t("Cancel")),i.createElement(O.default,{key:"save",type:"primary",size:"default",disabled:!this.state.valid,onClick:this.handleTransfer},this.props.t("continue_transfer"))]}},{key:"renderDescription",value:function(e){return!e&&this.state.valid?i.createElement(se.c,{i18nKey:"userTransferModalDescription"},i.createElement("span",null,"When selected, user will be transferred to a destination organization with all owned devices. Historical data will not be transferred.")):this.state.showHelp?i.createElement("div",{className:"help-block"},i.createElement("div",null,this.props.t("here_is_what_you_can_do"),":"),i.createElement(se.c,{i18nKey:"userTransferModalHelp",parent:"ul"},i.createElement("li",null,"Check if the administratorâs email address is correct"),i.createElement("li",null,"Get in touch with the destination organization and request an email address"),i.createElement("li",null,"Check if a user with this email address has correct permissions"))):null}},{key:"renderModalBody",value:function(e){var t=this;return i.createElement(He.Z,{ref:this.formRef},i.createElement(Ve.default,{message:(0,ce.kk)(this.props.t("userTransferAlert").toString()),type:"info"}),i.createElement("div",{className:"user-transfer--form"},i.createElement(He.Z.Item,{className:this.state.valid?"normal-offset":"large-offset",label:this.props.t("destincation_organization_admin_email"),name:"transferToUserEmail",rules:[{validator:b()(this.validateEmail,300)}]},i.createElement(w.default,{maxLength:200,name:"transferToUserEmail",type:"email",prefix:i.createElement(N.cI,{style:{fontSize:"16px"},type:"mail2"}),placeholder:this.props.t("enter_email")})),this.state.valid&&i.createElement(i.Fragment,null,i.createElement(He.Z.Item,{label:this.props.t("new_role"),className:"normal-offset",name:"roleId",rules:[{required:!0,message:this.props.t("Field is required")}]},i.createElement(a.default,{placeholder:this.props.t("choose_a_role")},this.state.roles.map((function(e){return i.createElement(a.default.Option,{key:e.id,value:e.id},t.props.t(e.name))})))),i.createElement(He.Z.Item,{className:"normal-offset",name:"transferDevices",valuePropName:"checked"},i.createElement($e.default,{className:"user-transfer--form-checkbox"},i.createElement(se.c,{i18nKey:"userTransferModalCheckboxLabel"},"Transfer with all devices owned by",{owner:this.props.user&&(0,ce.kk)(this.props.user.name)})))),this.renderDescription(e)))}},{key:"render",value:function(){return i.createElement("div",{className:"user-transfer"},i.createElement(Ge.Z,{size:"small",title:this.props.t("transfer_user"),onCancel:this.handleCancel,visible:this.props.visible,closable:!1,footer:this.getButtons(),className:"user-transfer-modal"},this.renderModalBody()))}}])&&Xe(t.prototype,r),n&&Xe(t,n),l}(i.Component);const it=(0,c.Z)()(at);var lt=r(1104),st=r(2981);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mt=(0,S.Z)({insensitive:!0}),pt=function(e){var t,r=(0,$.$)().t,n=(0,s.v9)((function(e){return e.Account.isDarkMode})),o=[{title:"",render:function(e,t){return i.createElement("div",{className:"product-logo-url"},t.productLogoUrl?i.createElement("img",{src:(0,st.q7)(t.productLogoUrl),alt:r("template_logo"),style:ut({width:64},(0,lt.nw)(t.productLogoUrl,n))}):i.createElement(N.cI,{type:"cube"}))},width:80,key:"productLogoUrl",dataIndex:"productLogoUrl"},{title:r("Name"),render:function(t,r){return i.createElement("div",{className:"ant-table-first-column ant-table-clickable-column",style:{cursor:"pointer",minHeight:20,minWidth:150,fontWeight:600},onClick:function(){return e.handleDeviceClick(r)}},(0,ce.wB)(t||"",27.75))},width:250,sorter:_.$1.AZ.compare,showSorterTooltip:!1,key:"name",dataIndex:"name"},{title:r("Status"),render:function(e){return i.createElement(N.Ly,{status:(e||"").toLowerCase()})},width:100,sorter:_.$1.STATUS_ASC.compare,showSorterTooltip:!1,dataIndex:"status",key:"status"},{title:r("Model"),width:250,sorter:function(e,t){return mt(e.model,t.model)},showSorterTooltip:!1,key:"model",dataIndex:"model"},{title:r("Last Updated"),render:function(e){return e?(0,j.N)(e):r("not_updated_yet")},width:200,sorter:_.$1.LAST_REPORTED_ASC.compare,showSorterTooltip:!1,dataIndex:"lastReportedAt",key:"lastReportedAt"}];return i.createElement(N.iA,{id:"user-devices-table",className:"user-devices",rowKey:function(e){return e.id},dataSource:e.data,tableLayout:"fixed",columns:o,scroll:(null===(t=e.data)||void 0===t?void 0:t.length)>5?{y:e.height}:void 0})};pt.defaultProps={height:"68vh"};const dt=pt;var ht=r(8915)}}]);