(self.webpackChunkBlynkWebDashboard=self.webpackChunkBlynkWebDashboard||[]).push([[2873],{8120:(t,e,n)=>{"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i=[],u=!0,o=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){o=!0,a=t}finally{try{u||null==n.return||n.return()}finally{if(o)throw a}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}n.r(e),n.d(e,{default:()=>j});var l=n(67294),s=n(94184),f=n.n(s),v=n(15105),d=n(42550);function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function b(){return"function"==typeof BigInt}function h(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),(e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(e="0".concat(e));var r=e||"0",a=r.split("."),i=a[0]||"0",u=a[1]||"0";"0"===i&&"0"===u&&(n=!1);var o=n?"-":"";return{negative:n,negativeStr:o,trimStr:r,integerStr:i,decimalStr:u,fullStr:"".concat(o).concat(r)}}function y(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function N(t){var e=String(t);if(y(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return(null==r?void 0:r[1])&&(n+=r[1].length),n}return e.includes(".")&&E(e)?e.length-e.indexOf(".")-1:0}function S(t){var e=String(t);if(y(t)){if(t>Number.MAX_SAFE_INTEGER)return String(b()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(b()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(N(e))}return h(e).fullStr}function E(t){return"number"==typeof t?!Number.isNaN(t):!!t&&(/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t))}var w=function(){function t(e){m(this,t),this.origin="",(e||0===e)&&String(e).trim()?(this.origin=String(e),this.number=Number(e)):this.empty=!0}return p(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(e){if(this.isInvalidate())return new t(e);var n=Number(e);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var a=Math.max(N(this.number),N(n));return new t(r.toFixed(a))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toNumber()===(null==t?void 0:t.toNumber())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.isInvalidate()?"":S(this.number):this.origin}}]),t}(),I=function(){function t(e){if(m(this,t),this.origin="",(e||0===e)&&String(e).trim())if(this.origin=String(e),"-"!==e){var n=e;if(y(n)&&(n=Number(n)),E(n="string"==typeof n?n:S(n))){var r=h(n);this.negative=r.negative;var a=r.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return p(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(t){var e="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(t,"0"));return BigInt(e)}},{key:"negate",value:function(){var e=new t(this.toString());return e.negative=!e.negative,e}},{key:"add",value:function(e){if(this.isInvalidate())return new t(e);var n=new t(e);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),a=h((this.alignDecimal(r)+n.alignDecimal(r)).toString()),i=a.negativeStr,u=a.trimStr,o="".concat(i).concat(u.padStart(r+1,"0"));return new t("".concat(o.slice(0,-r),".").concat(o.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(t){return this.toString()===(null==t?void 0:t.toString())}},{key:"lessEquals",value:function(t){return this.add(t.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.isInvalidate()?"":h("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}();function k(t){return b()?new I(t):new w(t)}function M(t,e,n){if(""===t)return"";var r=h(t),a=r.negativeStr,i=r.integerStr,u=r.decimalStr,o="".concat(e).concat(u),c="".concat(a).concat(i);if(n>=0){var l=Number(u[n]);return l>=5?M(k(t).add("0.".concat("0".repeat(n)).concat(10-l)).toString(),e,n):0===n?c:"".concat(c).concat(e).concat(u.padEnd(n,"0").slice(0,n))}return".0"===o?c:"".concat(c).concat(o)}var x=n(31131);function O(t){var e=t.prefixCls,n=t.upNode,i=t.downNode,u=t.upDisabled,o=t.downDisabled,c=t.onStep,s=l.useRef(),v=l.useRef();v.current=c;var d=function(t,e){t.preventDefault(),v.current(e),s.current=setTimeout((function t(){v.current(e),s.current=setTimeout(t,200)}),600)},m=function(){clearTimeout(s.current)};if(l.useEffect((function(){return m}),[]),(0,x.Z)())return null;var g="".concat(e,"-handler"),p=f()(g,"".concat(g,"-up"),a({},"".concat(g,"-up-disabled"),u)),b=f()(g,"".concat(g,"-down"),a({},"".concat(g,"-down-disabled"),o)),h={unselectable:"on",role:"button",onMouseUp:m,onMouseLeave:m};return l.createElement("div",{className:"".concat(g,"-wrap")},l.createElement("span",r({},h,{onMouseDown:function(t){d(t,!0)},"aria-label":"Increase Value","aria-disabled":u,className:p}),n||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-up-inner")})),l.createElement("span",r({},h,{onMouseDown:function(t){d(t,!1)},"aria-label":"Decrease Value","aria-disabled":o,className:b}),i||l.createElement("span",{unselectable:"on",className:"".concat(e,"-handler-down-inner")})))}var D=n(80334);var T=(0,n(98924).Z)()?l.useLayoutEffect:l.useEffect;function A(t,e){var n=l.useRef(!1);T((function(){if(n.current)return t();n.current=!0}),e)}var R=function(t,e){return t||e.isEmpty()?e.toString():e.toNumber()},C=function(t){var e=k(t);return e.isInvalidate()?null:e},_=l.forwardRef((function(t,e){var n,u=t.prefixCls,s=void 0===u?"rc-input-number":u,m=t.className,g=t.style,p=t.min,b=t.max,h=t.step,y=void 0===h?1:h,w=t.defaultValue,I=t.value,x=t.disabled,T=t.readOnly,_=t.upHandler,j=t.downHandler,F=t.keyboard,P=t.stringMode,q=t.parser,B=t.formatter,G=t.precision,W=t.decimalSeparator,Z=t.onChange,$=t.onInput,U=t.onPressEnter,H=t.onStep,L=c(t,["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"]),V="".concat(s,"-input"),X=l.useRef(null),K=o(l.useState(!1),2),Q=K[0],z=K[1],J=l.useRef(!1),Y=l.useRef(!1),tt=o(l.useState((function(){return k(null!=I?I:w)})),2),et=tt[0],nt=tt[1];var rt=l.useCallback((function(t,e){if(!e)return G>=0?G:Math.max(N(t),N(y))}),[G,y]),at=l.useCallback((function(t){var e=String(t);if(q)return q(e);var n=e;return W&&(n=n.replace(W,".")),n.replace(/[^\w.-]+/g,"")}),[q,W]),it=l.useCallback((function(t,e){if(B)return B(t);var n="number"==typeof t?S(t):t;if(!e){var r=rt(n,e);if(E(n)&&(W||r>=0))n=M(n,W||".",r)}return n}),[B,rt,W]),ut=o(l.useState((function(){var t=null!=w?w:I;return et.isInvalidate()&&["string","number"].includes(i(t))?Number.isNaN(t)?"":t:it(et.toString(),!1)})),2),ot=ut[0],ct=ut[1];function lt(t,e){ct(it(t.isInvalidate()?t.toString(!1):t.toString(!e),e))}var st,ft,vt,dt=l.useMemo((function(){return C(b)}),[b]),mt=l.useMemo((function(){return C(p)}),[p]),gt=l.useMemo((function(){return!(!dt||!et||et.isInvalidate())&&dt.lessEquals(et)}),[dt,et]),pt=l.useMemo((function(){return!(!mt||!et||et.isInvalidate())&&et.lessEquals(mt)}),[mt,et]),bt=o((st=X.current,ft=Q,vt=(0,l.useRef)(null),[function(){try{var t=st.selectionStart,e=st.selectionEnd,n=st.value,r=n.substring(0,t),a=n.substring(e);vt.current={start:t,end:e,value:n,beforeTxt:r,afterTxt:a}}catch(t){}},function(){if(st&&vt.current&&ft)try{var t=st.value,e=vt.current,n=e.beforeTxt,r=e.afterTxt,a=e.start,i=t.length;if(t.endsWith(r))i=t.length-vt.current.afterTxt.length;else if(t.startsWith(n))i=n.length;else{var u=n[a-1],o=t.indexOf(u,a-1);-1!==o&&(i=o+1)}st.setSelectionRange(i,i)}catch(t){(0,D.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(t.message))}}]),2),ht=bt[0],yt=bt[1],Nt=function(t){return dt&&!t.lessEquals(dt)?dt:mt&&!mt.lessEquals(t)?mt:null},St=function(t){return!Nt(t)},Et=function(t,e){var n,r=t,a=St(r)||r.isEmpty();if(r.isEmpty()||e||(r=Nt(r)||r,a=!0),!T&&!x&&a){var i=r.toString(),u=rt(i,e);return u>=0&&(r=k(M(i,".",u))),r.equals(et)||(n=r,void 0===I&&nt(n),null==Z||Z(r.isEmpty()?null:R(P,r)),void 0===I&&lt(r,e)),r}return et},wt=function(t){if(ht(),ct(t),!Y.current){var e=k(at(t));e.isNaN()||Et(e,!0)}},It=function(t){var e;if(!(t&&gt||!t&&pt)){J.current=!1;var n=k(y);t||(n=n.negate());var r=(et||k(0)).add(n.toString()),a=Et(r,!1);null==H||H(R(P,a),{offset:y,type:t?"up":"down"}),null===(e=X.current)||void 0===e||e.focus()}},kt=function(t){var e=k(at(ot)),n=e;n=e.isNaN()?et:Et(e,t),void 0!==I?lt(et,!1):n.isNaN()||lt(n,!1)};return A((function(){et.isInvalidate()||lt(et,!1)}),[G]),A((function(){var t=k(I);nt(t),(t.isNaN()||!J.current||B)&&lt(t,!1)}),[I]),A((function(){B&&yt()}),[ot]),l.createElement("div",{className:f()(s,m,(n={},a(n,"".concat(s,"-focused"),Q),a(n,"".concat(s,"-disabled"),x),a(n,"".concat(s,"-readonly"),T),a(n,"".concat(s,"-not-a-number"),et.isNaN()),a(n,"".concat(s,"-out-of-range"),!et.isInvalidate()&&!St(et)),n)),style:g,onFocus:function(){z(!0)},onBlur:function(){kt(!1),z(!1),J.current=!1},onKeyDown:function(t){var e=t.which;J.current=!0,e===v.Z.ENTER&&(Y.current||(J.current=!1),kt(!0),null==U||U(t)),!1!==F&&!Y.current&&[v.Z.UP,v.Z.DOWN].includes(e)&&(It(v.Z.UP===e),t.preventDefault())},onKeyUp:function(){J.current=!1},onCompositionStart:function(){Y.current=!0},onCompositionEnd:function(){Y.current=!1,wt(X.current.value)}},l.createElement(O,{prefixCls:s,upNode:_,downNode:j,upDisabled:gt,downDisabled:pt,onStep:It}),l.createElement("div",{className:"".concat(V,"-wrap")},l.createElement("input",r({autoComplete:"off",role:"spinbutton","aria-valuemin":p,"aria-valuemax":b,"aria-valuenow":et.isInvalidate()?null:et.toString(),step:y},L,{ref:(0,d.sQ)(X,e),className:V,value:ot,onChange:function(t){var e=t.target.value;q||(e=e.replace(/。/g,".")),wt(e),null==$||$(e)},disabled:x,readOnly:T}))))}));_.displayName="InputNumber";const j=_}}]);